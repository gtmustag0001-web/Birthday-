<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Happy Birthday Vineet bhai ğŸ’ªğŸ»</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  overflow:hidden;
  background:#111;
  font-family:Arial,sans-serif;
  color:#fff;
  text-align:center;
}
#gameCanvas{
  width:100vw;height:100vh;display:block;
  background:linear-gradient(135deg,#d00000,#ffba08);
}
#msg{
  position:fixed;top:10px;left:50%;
  transform:translateX(-50%);
  z-index:5;font-size:18px;
}
/* END SCREEN */
#endScreen{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.9);
  display:none;flex-direction:column;
  justify-content:center;align-items:center;
  padding:0 20px;z-index:10;text-align:center;
}
#endScreen h1{font-size:24px;margin-bottom:8px}
#endScreen p{font-size:18px;margin:4px 0}
#endScreen img{
  max-width:70vw;
  border-radius:20px;
  box-shadow:0 10px 20px rgba(0,0,0,0.7);
  margin:10px 0;
}
#endScreen button{
  margin-top:12px;
  padding:12px 22px;
  font-size:18px;
  border:none;border-radius:18px;
  background:#ffba08;color:#000;
  font-weight:bold;
}
</style>
</head>
<body>

<div id="msg">Tap anywhere to start / jump</div>
<canvas id="gameCanvas"></canvas>

<!-- END PAGE -->
<div id="endScreen">
  <h1>ğŸ† Happy Birthday Vineet bhai ğŸ’ªğŸ» ğŸ†</h1>
  <img src="Veere.jpeg" alt="Vineet">
  <p>Bhaichara bana rahega hamesha â¤ï¸</p>
  <p>Janamdin ki hardik shubhkamnayen! ğŸ‰</p>
  <button onclick="location.reload()">Ek Aur Ride!</button>
</div>

<audio id="bgMusic" loop></audio>
<audio id="endMusic"></audio>

<script>
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");
const msg=document.getElementById("msg");
const bgMusic=document.getElementById("bgMusic");
const endMusic=document.getElementById("endMusic");
const endScreen=document.getElementById("endScreen");

bgMusic.volume=1.0;
endMusic.volume=1.0;

function resize(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

// game variables
let running=false;
let score=0;
let playerX,playerY,playerW=80,playerH=60;
let vy=0;
const gravity=0.7;
const jump=-15;
const bikes=[];
const NAME="Vineet";

function resetPlayer(){
  playerX=canvas.width/4;
  playerY=canvas.height/2;
  vy=0;
}
resetPlayer();

function startGame(){
  running=true;
  score=0;
  msg.textContent="Score: 0 (tap to jump)";
  bgMusic.src="BG.mp3";        // background song
  bgMusic.currentTime=0;
  bgMusic.play().catch(()=>{});
  gameLoop();
}

function tap(){
  if(!running){ startGame(); return; }
  vy=jump;
}

canvas.addEventListener("touchstart",e=>{e.preventDefault();tap();});
canvas.addEventListener("mousedown",tap);

function spawnBike(){
  if(Math.random()<0.03){
    bikes.push({
      x:canvas.width+40,
      y:Math.random()*(canvas.height-150)+75,
      r:25
    });
  }
}

function update(){
  vy+=gravity;
  playerY+=vy;
  if(playerY>canvas.height-playerH-20){
    playerY=canvas.height-playerH-20;
    vy=0;
  }
  if(playerY<20){
    playerY=20;
    vy=0;
  }

  for(let i=bikes.length-1;i>=0;i--){
    const b=bikes[i];
    b.x-=6;
    if(b.x<-b.r){
      bikes.splice(i,1);
      continue;
    }
    const dx=(playerX+playerW/2)-b.x;
    const dy=(playerY+playerH/2)-b.y;
    const dist=Math.hypot(dx,dy);
    if(dist < b.r+35){
      score++;
      msg.textContent="Score: "+score+" (tap to jump)";
      bikes.splice(i,1);
    }
  }

  spawnBike();

  // score 20 pe end
  if(score>=20){
    endGame();
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // heading â€“ scoreboard se gap ke saath (y = 70)
  ctx.fillStyle="#fff";
  ctx.font="bold 22px Arial";
  ctx.textAlign="center";
  ctx.fillText("Happy Birthday "+NAME+" bhai ğŸ’ªğŸ»",canvas.width/2,70);

  // player bike
  ctx.fillStyle="#ffd23f";
  ctx.fillRect(playerX,playerY,playerW,playerH);
  ctx.fillStyle="#d00000";
  ctx.font="bold 18px Arial";
  ctx.fillText("RE",playerX+playerW/2,playerY+22);
  ctx.fillStyle="#fff";
  ctx.font="bold 16px Arial";
  ctx.fillText("650",playerX+playerW/2,playerY+40);

  // bikes
  ctx.fillStyle="#c0c0c0";
  bikes.forEach(b=>{
    ctx.beginPath();
    ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
    ctx.fill();
  });
}

function gameLoop(){
  if(!running) return;
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

function endGame(){
  if(!running) return;
  running=false;
  bgMusic.pause();
  endMusic.src="END.mp3";   // ending song
  endMusic.currentTime=0;
  endMusic.play().catch(()=>{});
  endScreen.style.display="flex";
}
</script>
</body>
</html>
