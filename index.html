<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Test Game Vineet</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  overflow:hidden;
  background:#111;
  font-family:Arial,sans-serif;
  color:#fff;
  text-align:center;
}
#gameCanvas{
  width:100vw;height:100vh;display:block;
  background:linear-gradient(135deg,#d00000,#ffba08);
}
#msg{
  position:fixed;top:10px;left:50%;
  transform:translateX(-50%);
  z-index:5;font-size:18px;
}
</style>
</head>
<body>

<div id="msg">Tap anywhere to start / jump</div>
<canvas id="gameCanvas"></canvas>
<audio id="bgMusic" loop></audio>

<script>
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");
const msg=document.getElementById("msg");
const bgMusic=document.getElementById("bgMusic");

function resize(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
}
resize();
window.addEventListener("resize",resize);

// game variables
let running=false;
let score=0;
let playerX,playerY,playerW=80,playerH=60;
let vy=0;
const gravity=0.7;
const jump=-15;
const bikes=[];

function resetPlayer(){
  playerX=canvas.width/4;          // left side center
  playerY=canvas.height/2;
  vy=0;
}
resetPlayer();

function startGame(){
  running=true;
  score=0;
  msg.textContent="Score: 0 (tap to jump)";
  bgMusic.src="BG.mp3";
  bgMusic.play().catch(()=>{});
  gameLoop();
}

function tap(){
  if(!running){ startGame(); return; }
  vy=jump;
}

canvas.addEventListener("touchstart",e=>{e.preventDefault();tap();});
canvas.addEventListener("mousedown",tap);

function spawnBike(){
  if(Math.random()<0.03){
    bikes.push({
      x:canvas.width+40,
      y:Math.random()*(canvas.height-150)+75,
      r:25
    });
  }
}

function update(){
  vy+=gravity;
  playerY+=vy;
  if(playerY>canvas.height-playerH-20){
    playerY=canvas.height-playerH-20;
    vy=0;
  }
  if(playerY<20){
    playerY=20;
    vy=0;
  }

  for(let i=bikes.length-1;i>=0;i--){
    const b=bikes[i];
    b.x-=6;
    if(b.x<-b.r){
      bikes.splice(i,1);
      continue;
    }
    const dx=(playerX+playerW/2)-b.x;
    const dy=(playerY+playerH/2)-b.y;
    const dist=Math.hypot(dx,dy);
    if(dist < b.r+35){
      score++;
      msg.textContent="Score: "+score+" (tap to jump)";
      bikes.splice(i,1);
    }
  }

  spawnBike();
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // player bike (yellow box)
  ctx.fillStyle="#ffd23f";
  ctx.fillRect(playerX,playerY,playerW,playerH);

  // bikes (grey circles)
  ctx.fillStyle="#c0c0c0";
  bikes.forEach(b=>{
    ctx.beginPath();
    ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
    ctx.fill();
  });
}

function gameLoop(){
  if(!running) return;
  update();
  draw();
  requestAnimationFrame(gameLoop);
}
</script>
</body>
</html>